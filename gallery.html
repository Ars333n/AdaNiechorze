<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Galeria - Ada Niechorze</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>
</head>
<body class="font-sans bg-white text-gray-800">

  <!-- Navigation -->
  <nav class="bg-white shadow-lg sticky top-0 z-50">
    <div class="container mx-auto px-6 py-3">
      <div class="flex justify-between items-center">
        <div class="flex items-center">
          <img src="images/logo.jpg" alt="Ada Niechorze Logo" class="h-12 mr-3 object-cover rounded">
          <a href="index.html" class="text-2xl font-bold text-sky-800">Ada Niechorze</a>
        </div>
        <div class="hidden md:flex space-x-8">
          <a href="index.html" class="text-gray-600 hover:text-sky-600 font-medium">Strona główna</a>
          <a href="gallery.html" class="text-sky-600 font-medium">Galeria</a>
        </div>
        <button class="md:hidden focus:outline-none" id="menu-btn">
          <i data-feather="menu"></i>
        </button>
      </div>
      <!-- Mobile menu -->
      <div class="md:hidden hidden mt-4" id="mobile-menu">
        <a href="index.html" class="block py-2 text-sky-600 font-medium">Strona główna</a>
        <a href="gallery.html" class="block py-2 text-gray-600 hover:text-sky-600">Galeria</a>
      </div>
    </div>
  </nav>

  <!-- Gallery Section -->
  <section class="py-16 bg-sky-50">
    <div class="container mx-auto px-6">
      <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-sky-700 mb-4">Galeria Ada Niechorze</h1>
        <p class="text-xl text-gray-600">Zobacz nasze piękne otoczenie i udogodnienia</p>
        <div class="w-24 h-1 bg-sky-500 mx-auto mt-4"></div>
      </div>

      <!-- Gallery Grid -->
      <div id="galleryGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>
  </section>

  <!-- Modal -->
  <div id="myModal" class="fixed inset-0 z-50 hidden bg-black bg-opacity-90 flex flex-col items-center justify-center">
    <button onclick="closeModal()" class="absolute top-4 right-4 text-white text-4xl hover:text-gray-300">&times;</button>

    <!-- Left Arrow -->
    <button onclick="changeSlide(-1)" 
      class="absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 
             bg-black bg-opacity-60 text-white p-3 sm:p-4 
             rounded-full hover:bg-opacity-80 focus:outline-none z-60">
      <i data-feather="chevron-left" class="w-6 h-6 sm:w-8 sm:h-8"></i>
    </button>

    <div class="relative max-w-5xl w-full px-4">
      <img id="modalImg" class="max-h-[80vh] mx-auto rounded shadow-lg" src="" alt="">
      <div id="caption" class="text-center text-white mt-4 text-lg"></div>
    </div>

    <!-- Right Arrow -->
    <button onclick="changeSlide(1)" 
      class="absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 
             bg-black bg-opacity-60 text-white p-3 sm:p-4 
             rounded-full hover:bg-opacity-80 focus:outline-none z-0">
      <i data-feather="chevron-right" class="w-6 h-6 sm:w-8 sm:h-8"></i>
    </button>

    <!-- Thumbnails -->
    <div id="thumbnails" class="flex flex-wrap justify-center mt-6 gap-2 px-4 overflow-y-auto max-h-32"></div>
  </div>

  <!-- Footer -->
  <footer class="bg-sky-800 text-white py-12">
    <div class="container mx-auto px-6">
      <div class="grid md:grid-cols-4 gap-8">
        <div>
          <img src="images/lighthouse.png" alt="Ada Niechorze Logo" class="h-16 mb-4 object-cover rounded">
          <p class="text-sky-200"></p>
        </div>
        <div>
          <h3 class="text-xl font-semibold mb-4">Kontakt</h3>
          <p class="text-sky-200 mb-2">Niechorze, Polna 1</p>
          <p class="text-sky-200 mb-2">Tel: +48 601 886 783</p>
        </div>
        <div>
          <h3 class="text-xl font-semibold mb-4">Linki</h3>
          <ul class="space-y-2">
            <li><a href="index.html" class="text-sky-200 hover:text-white">Strona główna</a></li>
            <li><a href="gallery.html" class="text-sky-200 hover:text-white">Galeria</a></li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-semibold mb-4">Znajdź nas na Facebooku</h3>
          <div class="flex space-x-4">
            <a href="https://www.facebook.com/adaniechorze" class="text-sky-200 hover:text-white"><i data-feather="facebook"></i></a>
          </div>
        </div>
      </div>
      <div class="border-t border-sky-700 mt-8 pt-8 text-center text-sky-300">
        <p>&copy; 2025 Ada Niechorze. Wszelkie prawa zastrzeżone.</p>
      </div>
    </div>
  </footer>

  <script>
    feather.replace();

    // Mobile menu toggle
    document.getElementById('menu-btn').addEventListener('click', function() {
      const menu = document.getElementById('mobile-menu');
      menu.classList.toggle('hidden');
    });

    // Images
    const images = [];
    for (let i = 0; i <= 48; i++) {
      images.push({ src: `images/${i}.jpg`, caption: `Zdjęcie ${i}` });
    }

    const galleryGrid = document.getElementById('galleryGrid');
    const thumbnails = document.getElementById('thumbnails');
    const modal = document.getElementById('myModal');
    const modalImg = document.getElementById('modalImg');
    const captionText = document.getElementById('caption');
    let currentIndex = 0;

    // Build grid & thumbnails
    images.forEach((img, i) => {
      const wrapper = document.createElement('div');
      wrapper.className = "aspect-[16/9] overflow-hidden rounded-lg shadow-md cursor-pointer";

      const gridImg = document.createElement('img');
      gridImg.src = img.src;
      gridImg.alt = img.caption;
      gridImg.className = "w-full h-full object-cover hover:scale-105 transition-transform duration-300";
      gridImg.onclick = () => openModal(i);

      wrapper.appendChild(gridImg);
      galleryGrid.appendChild(wrapper);

      const thumb = document.createElement('img');
      thumb.src = img.src;
      thumb.alt = img.caption;
      thumb.className = "thumbnail w-20 h-14 object-cover rounded cursor-pointer opacity-60 hover:opacity-100";
      thumb.onclick = () => currentSlide(i);
      thumbnails.appendChild(thumb);
    });

    function openModal(index) {
      currentIndex = index;
      showSlide(currentIndex);
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      feather.replace(); // <- Naprawia strzałki
    }

    function closeModal() {
      modal.classList.add('hidden');
      document.body.style.overflow = 'auto';
    }

    function changeSlide(n) {
      currentIndex += n;
      if (currentIndex >= images.length) currentIndex = 0;
      if (currentIndex < 0) currentIndex = images.length - 1;
      showSlide(currentIndex);
    }

    function currentSlide(index) {
      currentIndex = index;
      showSlide(currentIndex);
    }

    function showSlide(index) {
      modalImg.src = images[index].src;
      captionText.innerHTML = images[index].caption;
      document.querySelectorAll('.thumbnail').forEach((thumb, i) => {
        thumb.classList.toggle('ring-2', i === index);
        thumb.classList.toggle('ring-sky-500', i === index);
        thumb.classList.toggle('opacity-100', i === index);
        thumb.classList.toggle('opacity-60', i !== index);
      });
    }

    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        closeModal();
      }
    });

    document.addEventListener('keydown', function(e) {
      if (!modal.classList.contains('hidden')) {
        if (e.key === 'Escape') {
          closeModal();
        } else if (e.key === 'ArrowLeft') {
          changeSlide(-1);
        } else if (e.key === 'ArrowRight') {
          changeSlide(1);
        }
      }
    });
  </script>
</body>
</html>
